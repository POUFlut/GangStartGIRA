import{j as e,s as x,r as i,t as d}from"./index-DlqSN7vZ.js";import{P as p,b as f,L as a,d as h}from"./popover-BOsAsPDz.js";const j=({foodIdList:t,loadImg:m=!0})=>{const n=t.map((s,c)=>{const r=s.itemId,l=s.itemName,o=`https://raw.githubusercontent.com/POUFlut/GangStartAssets/main/offerings/${r}.png`;return e.jsxs(p,{children:[e.jsx(f,{className:"bg-transparent",children:e.jsxs("div",{children:[m&&e.jsx("img",{src:o,alt:"圖片",className:"w-24 h-24 m-2"},c),e.jsx(a,{children:l})]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(a,{className:"text-gray-600 min-w-[65px] self-center",children:"稀有度:"}),e.jsx("span",{className:"text-yellow-500",children:x(s.itemRarity)})]}),e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(a,{className:"text-gray-600 min-w-[65px] self-center",children:"獲取方式:"}),e.jsx("span",{children:s.route})]}),e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(a,{className:"text-gray-600 min-w-[65px] self-center",children:"機率提高:"}),e.jsx("span",{children:s.itemRmk})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(a,{className:"text-gray-600 min-w-[65px] self-center",children:"說明:"}),e.jsx("p",{className:"text-gray-700 break-words",children:s.itemDesc})]})]})]},`quest-popover-${c}`)});return e.jsx(e.Fragment,{children:n})},y=()=>{const[t,m]=i.useState([]),[n,s]=i.useState();return i.useEffect(()=>{s([]),(async()=>{try{const r=await d("SELECT itemId, itemRarity, itemName, itemDesc, route, itemRmk FROM items WHERE itemType = 'Offerings' AND enable = 'Y' ORDER BY itemSubType, itemRarity");m(r)}catch(r){console.error("查詢失敗:",r)}})()},[]),i.useEffect(()=>{t.length>0&&s(e.jsx(j,{foodIdList:t}))},[t]),e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-3xl",children:"道具-供品"}),e.jsx("div",{className:"flex flex-wrap mt-4 max-w-4/5 justify-center",children:n&&n})]})};export{y as default};
