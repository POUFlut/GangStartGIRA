import{j as e,s as d,r as i,t as p}from"./index-C2Kdumku.js";import{P as f,b as h,L as n,d as u}from"./popover-D8Et53wa.js";const g=({idList:r,loadImg:m=!0,flexCol:t=!0})=>{const c=r.map((s,a)=>{const l=s.itemId,x=s.itemName,o=`https://raw.githubusercontent.com/POUFlut/GangStartAssets/main/offerings/${l}.png`;return e.jsxs(f,{children:[e.jsx(h,{className:`bg-transparent ${t?"":"p-0 pr-2"}`,children:e.jsxs("div",{className:`flex ${t?"flex-col":""}`,children:[m&&e.jsx("img",{src:o,alt:"圖片",className:`${t?"w-24 h-24":"w-5 h-5"} m-2`},a),e.jsx(n,{className:"self-center",children:x})]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(n,{className:"text-gray-600 min-w-[65px] self-center",children:"稀有度:"}),e.jsx("span",{className:"text-yellow-500",children:d(s.itemRarity)})]}),e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(n,{className:"text-gray-600 min-w-[65px] self-center",children:"獲取方式:"}),e.jsx("span",{children:s.route})]}),e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(n,{className:"text-gray-600 min-w-[65px] self-center",children:"機率提高:"}),e.jsx("span",{children:s.itemRmk})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(n,{className:"text-gray-600 min-w-[65px] self-center",children:"說明:"}),e.jsx("p",{className:"text-gray-700 break-words",children:s.itemDesc})]})]})]},`quest-popover-${a}`)});return e.jsx(e.Fragment,{children:c})},y=()=>{const[r,m]=i.useState([]),[t,c]=i.useState();return i.useEffect(()=>{c([]),(async()=>{try{const a=await p("SELECT itemId, itemRarity, itemName, itemDesc, route, itemRmk FROM items WHERE itemType = 'Offerings' AND enable = 'Y' ORDER BY itemSubType, itemRarity");m(a)}catch(a){console.error("查詢失敗:",a)}})()},[]),i.useEffect(()=>{r.length>0&&c(e.jsx(g,{idList:r}))},[r]),e.jsxs("div",{className:"w-4/5",children:[e.jsx("p",{className:"mb-4 text-3xl",children:"道具-供品"}),e.jsx("div",{className:"flex flex-wrap mt-4 max-w-4/5 justify-center",children:t&&t})]})};export{y as default};
