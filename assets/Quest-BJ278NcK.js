import{j as e,s as x,r as c,t as d}from"./index-DEKQdNgf.js";import{P as u,b as p,L as i,d as h}from"./popover-Byrj55B8.js";const j=({foodIdList:t,loadImg:m=!0})=>{const r=t.map((s,n)=>{const a=s.itemId,l=s.itemName,o=`https://raw.githubusercontent.com/POUFlut/GangStartAssets/main/quest/${a}.png`;return e.jsxs(u,{children:[e.jsx(p,{className:"bg-transparent",children:e.jsxs("div",{children:[m&&e.jsx("img",{src:o,alt:"圖片",className:"w-24 h-24 m-2"},n),e.jsx(i,{children:l})]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(i,{className:"text-gray-600 min-w-[65px] self-center",children:"稀有度:"}),e.jsx("span",{className:"text-yellow-500",children:x(s.itemRarity)})]}),e.jsxs("div",{className:"mb-3 flex",children:[e.jsx(i,{className:"text-gray-600 min-w-[65px] self-center",children:"獲取方式:"}),e.jsx("span",{children:s.route})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(i,{className:"text-gray-600 min-w-[65px] self-center",children:"說明:"}),e.jsx("p",{className:"text-gray-700 break-words",children:s.itemDesc})]})]})]},`quest-popover-${n}`)});return e.jsx(e.Fragment,{children:r})},y=()=>{const[t,m]=c.useState([]),[r,s]=c.useState();return c.useEffect(()=>{s([]),(async()=>{try{const a=await d("SELECT itemId, itemRarity, itemName, itemDesc, route FROM items WHERE itemSubType = 'Quest' AND enable = 'Y' ORDER BY itemSubType, itemRarity");m(a)}catch(a){console.error("查詢失敗:",a)}})()},[]),c.useEffect(()=>{t.length>0&&s(e.jsx(j,{foodIdList:t}))},[t]),e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-3xl",children:"道具-委託"}),e.jsx("div",{className:"flex flex-wrap mt-4 max-w-4/5 justify-center",children:r&&r})]})};export{y as default};
